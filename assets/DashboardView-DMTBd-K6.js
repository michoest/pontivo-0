import{u as A,O as w,c as o,a as s,t as a,q as c,e as r,M as d,N as v,n as b,z as C,K as V,o as l,E as f,Q as j,y as g,h as y,L as H}from"./index-Dmct9ylN.js";import{u as G}from"./projects-D7PHBw4L.js";import{s as p}from"./index-Bhl7Q02w.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"dashboard"},z={class:"welcome-section animate-fade-in"},B={class:"welcome-content"},L={class:"welcome-actions"},T={class:"stats-section"},F={class:"stats-grid"},I={class:"stat-card"},E={class:"stat-content"},R={class:"stat-value"},U={class:"stat-card"},Y={class:"stat-content"},$={class:"stat-value"},q={class:"stat-card"},K={class:"stat-content"},O={class:"stat-value"},Q={class:"stat-card"},Z={class:"stat-content"},J={class:"stat-value"},W={class:"projects-section"},X={class:"section-header"},ss={class:"projects-grid"},ts=["onClick"],es={class:"project-header"},as={class:"project-title-row"},is={class:"project-description"},os={class:"project-health-section"},ls={class:"health-label"},ns={class:"health-value"},cs={class:"progress-bar"},rs={class:"project-kpis"},ds={class:"kpi-mini-value"},vs={key:0,class:"kpi-mini-target"},ps={class:"kpi-mini-label"},hs={class:"project-footer"},us={class:"project-team"},fs={key:0,class:"team-more"},_s={class:"project-date"},ms={class:"ai-section"},gs={class:"ai-grid"},ys={class:"ai-card felix"},xs={class:"ai-card sophie"},ws={class:"activity-section"},bs={class:"section-header"},js={class:"activity-list"},Ps={class:"activity-content"},Ss={class:"activity-message"},ks={key:0,class:"activity-actor"},Ds={key:1,class:"activity-actor"},As={class:"activity-meta"},Cs={class:"activity-project"},Vs={class:"activity-time"},Hs={__name:"DashboardView",setup(Gs){const P=C(),S=A(),h=G(),k=w(()=>{const n=new Date().getHours();return n<12?"Good morning":n<18?"Good afternoon":"Good evening"}),u=w(()=>{const n=h.tenantProjects;return{totalProjects:n.length,activeProjects:n.filter(t=>t.status==="active").length,avgHealth:Math.round(n.reduce((t,_)=>t+_.health,0)/n.length)||0,upcomingMilestones:3}});function D(n){P.push(`/app/project/${n}/overview`)}function x(n){return n>=80?"success":n>=60?"warning":"error"}return(n,t)=>{const _=V("tooltip");return l(),o("div",N,[s("section",z,[s("div",B,[s("h1",null,a(k.value)+", "+a(c(S).user?.name?.split(" ")[0]),1),s("p",null,"Here's what's happening with your projects at "+a(c(h).currentTenant?.name),1)]),s("div",L,[r(c(p),{label:"New Project",icon:"pi pi-plus"})])]),s("section",T,[s("div",F,[s("div",I,[t[1]||(t[1]=s("div",{class:"stat-icon projects"},[s("i",{class:"pi pi-folder"})],-1)),s("div",E,[s("div",R,a(u.value.totalProjects),1),t[0]||(t[0]=s("div",{class:"stat-label"},"Total Projects",-1))])]),s("div",U,[t[3]||(t[3]=s("div",{class:"stat-icon active"},[s("i",{class:"pi pi-play-circle"})],-1)),s("div",Y,[s("div",$,a(u.value.activeProjects),1),t[2]||(t[2]=s("div",{class:"stat-label"},"Active Projects",-1))])]),s("div",q,[t[5]||(t[5]=s("div",{class:"stat-icon health"},[s("i",{class:"pi pi-heart"})],-1)),s("div",K,[s("div",O,a(u.value.avgHealth)+"%",1),t[4]||(t[4]=s("div",{class:"stat-label"},"Avg. Health Score",-1))])]),s("div",Q,[t[7]||(t[7]=s("div",{class:"stat-icon milestones"},[s("i",{class:"pi pi-flag"})],-1)),s("div",Z,[s("div",J,a(u.value.upcomingMilestones),1),t[6]||(t[6]=s("div",{class:"stat-label"},"Upcoming Milestones",-1))])])])]),s("section",W,[s("div",X,[t[8]||(t[8]=s("h2",null,"Your Projects",-1)),r(c(p),{label:"View All",text:"",icon:"pi pi-arrow-right",iconPos:"right"})]),s("div",ss,[(l(!0),o(d,null,v(c(h).tenantProjects,i=>(l(),o("div",{key:i.id,class:"project-card",onClick:e=>D(i.id)},[s("div",es,[s("div",as,[s("h3",null,a(i.name),1),s("span",{class:f(["badge","badge-"+x(i.health)])},a(i.status),3)]),s("p",is,a(i.description),1)]),s("div",os,[s("div",ls,[t[9]||(t[9]=s("span",null,"Project Health",-1)),s("span",ns,a(i.health)+"%",1)]),s("div",cs,[s("div",{class:f(["progress-bar-fill",x(i.health)]),style:j({width:i.health+"%"})},null,6)])]),s("div",rs,[(l(!0),o(d,null,v(i.kpis.slice(0,3),(e,m)=>(l(),o("div",{key:m,class:"kpi-mini"},[s("div",ds,[g(a(e.value)+a(e.unit==="%"?"%":"")+" ",1),e.unit!=="%"?(l(),o("span",vs,"/"+a(e.target),1)):y("",!0)]),s("div",ps,a(e.name),1)]))),128))]),s("div",hs,[s("div",us,[(l(!0),o(d,null,v(i.team.slice(0,3),(e,m)=>H((l(),o("div",{key:e.id,class:"team-avatar",style:j({zIndex:3-m})},[g(a(e.name.charAt(0)),1)],4)),[[_,e.name,void 0,{top:!0}]])),128)),i.team.length>3?(l(),o("div",fs," +"+a(i.team.length-3),1)):y("",!0)]),s("div",_s,[t[10]||(t[10]=s("i",{class:"pi pi-calendar"},null,-1)),s("span",null,"Due "+a(new Date(i.targetDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),1)])])],8,ts))),128))])]),s("section",ms,[t[13]||(t[13]=s("div",{class:"section-header"},[s("h2",null,"Your AI Consultants")],-1)),s("div",gs,[s("div",ys,[t[11]||(t[11]=b('<div class="ai-avatar" data-v-f7ae048a><div class="avatar-shape" data-v-f7ae048a><svg viewBox="0 0 80 80" fill="none" data-v-f7ae048a><circle cx="40" cy="40" r="35" fill="url(#felix-gradient)" data-v-f7ae048a></circle><path d="M40 25L55 55H25L40 25Z" fill="white" fill-opacity="0.9" data-v-f7ae048a></path><circle cx="40" cy="45" r="8" fill="#3b82f6" data-v-f7ae048a></circle><defs data-v-f7ae048a><linearGradient id="felix-gradient" x1="0" y1="0" x2="80" y2="80" data-v-f7ae048a><stop offset="0%" stop-color="#93c5fd" data-v-f7ae048a></stop><stop offset="100%" stop-color="#3b82f6" data-v-f7ae048a></stop></linearGradient></defs></svg></div></div><div class="ai-info" data-v-f7ae048a><h3 data-v-f7ae048a>Felix</h3><p class="ai-role" data-v-f7ae048a>Strategy Consultant</p><p class="ai-description" data-v-f7ae048a>Strategic analysis, competitive positioning, and long-term planning</p></div>',2)),r(c(p),{label:"Start Chat",icon:"pi pi-comments",outlined:"",size:"small"})]),s("div",xs,[t[12]||(t[12]=b('<div class="ai-avatar" data-v-f7ae048a><div class="avatar-shape" data-v-f7ae048a><svg viewBox="0 0 80 80" fill="none" data-v-f7ae048a><circle cx="40" cy="40" r="35" fill="url(#sophie-gradient)" data-v-f7ae048a></circle><rect x="25" y="30" width="30" height="25" rx="4" fill="white" fill-opacity="0.9" data-v-f7ae048a></rect><circle cx="40" cy="42" r="8" fill="#f59e0b" data-v-f7ae048a></circle><defs data-v-f7ae048a><linearGradient id="sophie-gradient" x1="0" y1="0" x2="80" y2="80" data-v-f7ae048a><stop offset="0%" stop-color="#fde68a" data-v-f7ae048a></stop><stop offset="100%" stop-color="#f59e0b" data-v-f7ae048a></stop></linearGradient></defs></svg></div></div><div class="ai-info" data-v-f7ae048a><h3 data-v-f7ae048a>Sophie</h3><p class="ai-role" data-v-f7ae048a>Project Manager</p><p class="ai-description" data-v-f7ae048a>Task coordination, timeline management, and team alignment</p></div>',2)),r(c(p),{label:"Start Chat",icon:"pi pi-comments",outlined:"",size:"small"})])])]),s("section",ws,[s("div",bs,[t[14]||(t[14]=s("h2",null,"Recent Activity",-1)),r(c(p),{label:"View All",text:"",icon:"pi pi-arrow-right",iconPos:"right"})]),s("div",js,[(l(!0),o(d,null,v(c(h).tenantProjects,i=>(l(),o("div",{key:i.id},[(l(!0),o(d,null,v(i.recentActivity.slice(0,2),e=>(l(),o("div",{key:e.id,class:"activity-item"},[s("div",{class:f(["activity-icon",{felix:e.persona==="felix",sophie:e.persona==="sophie",user:e.type==="user",milestone:e.type==="milestone"}])},[s("i",{class:f({"pi pi-compass":e.persona==="felix","pi pi-users":e.persona==="sophie","pi pi-user":e.type==="user","pi pi-flag":e.type==="milestone"})},null,2)],2),s("div",Ps,[s("div",Ss,[e.persona?(l(),o("span",ks,a(e.persona==="felix"?"Felix":"Sophie"),1)):e.user?(l(),o("span",Ds,a(e.user),1)):y("",!0),g(" "+a(e.message),1)]),s("div",As,[s("span",Cs,a(i.name),1),s("span",Vs,a(e.time),1)])])]))),128))]))),128))])])])}}},Ls=M(Hs,[["__scopeId","data-v-f7ae048a"]]);export{Ls as default};
