import{u as P}from"./projects-BSizNRPH.js";import{s as c}from"./index-BvPl-5xC.js";import{s as U}from"./index-Bmj-IVpJ.js";import{s as A}from"./index-4DRo_Crj.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{O as m,l as x,c as i,h as V,a as e,t as o,e as r,q as d,M as b,N as g,K as N,o as a,n as I,E as p,L as B}from"./index-COnUthvG.js";import"./index-C460D21R.js";import"./index-DeSWc556.js";const M={key:0,class:"project-files"},$={class:"page-header"},E={class:"header-content"},q={class:"header-actions"},K={class:"files-toolbar"},O={class:"toolbar-left"},Q={class:"p-input-icon-left"},T={class:"toolbar-right"},G={class:"view-toggle"},H={class:"files-content"},J={key:0,class:"files-list-view"},R={class:"folder-header"},W={class:"file-count"},X={class:"files-table"},Y={class:"col-name"},Z={class:"file-name"},ee={class:"col-size"},se={class:"col-created"},te={class:"col-date"},le={class:"col-actions"},oe={key:1,class:"files-grid-view"},ie={class:"folder-header"},ae={class:"file-count"},ne={class:"files-grid"},re={class:"file-card-info"},de=["title"],ce={class:"file-meta"},ue={class:"file-size"},pe={class:"file-card-actions"},ve={key:2,class:"empty-state"},fe={class:"integration-notice card"},me={__name:"ProjectFiles",setup(_e){const w=P(),S=m(()=>w.currentProject),F=m(()=>w.projectFiles),v=x(""),_=x(null),u=x("list"),D=m(()=>{const t=new Set(F.value.map(s=>s.folder));return[{label:"All Files",value:null},...Array.from(t).map(s=>({label:s,value:s}))]}),k=m(()=>{let t=F.value;if(_.value&&(t=t.filter(s=>s.folder===_.value)),v.value){const s=v.value.toLowerCase();t=t.filter(y=>y.name.toLowerCase().includes(s))}return t}),z=m(()=>{const t={};return k.value.forEach(s=>{t[s.folder]||(t[s.folder]=[]),t[s.folder].push(s)}),t});function C(t){return{pdf:"pi pi-file-pdf",xlsx:"pi pi-file-excel",docx:"pi pi-file-word",pptx:"pi pi-file"}[t]||"pi pi-file"}function he(t){return t}function h(t){return t==="felix"?{name:"Felix",class:"felix"}:t==="sophie"?{name:"Sophie",class:"sophie"}:{name:"User",class:"user"}}function j(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(t,s)=>{const y=N("tooltip");return S.value?(a(),i("div",M,[e("div",$,[e("div",E,[s[4]||(s[4]=e("h1",null,"Files & Documents",-1)),e("p",null,"Manage documents for "+o(S.value.name),1)]),e("div",q,[r(d(c),{label:"Upload File",icon:"pi pi-upload"})])]),e("div",K,[e("div",O,[e("span",Q,[s[5]||(s[5]=e("i",{class:"pi pi-search"},null,-1)),r(d(U),{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=n=>v.value=n),placeholder:"Search files...",class:"search-input"},null,8,["modelValue"])]),r(d(A),{modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=n=>_.value=n),options:D.value,optionLabel:"label",optionValue:"value",placeholder:"All Folders",class:"folder-dropdown"},null,8,["modelValue","options"])]),e("div",T,[e("div",G,[r(d(c),{icon:"pi pi-list",text:u.value!=="list",severity:u.value==="list"?"primary":"secondary",onClick:s[2]||(s[2]=n=>u.value="list")},null,8,["text","severity"]),r(d(c),{icon:"pi pi-th-large",text:u.value!=="grid",severity:u.value==="grid"?"primary":"secondary",onClick:s[3]||(s[3]=n=>u.value="grid")},null,8,["text","severity"])])])]),e("div",H,[u.value==="list"?(a(),i("div",J,[(a(!0),i(b,null,g(z.value,(n,f)=>(a(),i("div",{key:f,class:"folder-section"},[e("div",R,[s[6]||(s[6]=e("i",{class:"pi pi-folder"},null,-1)),e("span",null,o(f),1),e("span",W,o(n.length)+" files",1)]),e("div",X,[s[7]||(s[7]=I('<div class="table-header" data-v-5bf1bcae><div class="col-name" data-v-5bf1bcae>Name</div><div class="col-size" data-v-5bf1bcae>Size</div><div class="col-created" data-v-5bf1bcae>Created By</div><div class="col-date" data-v-5bf1bcae>Date</div><div class="col-actions" data-v-5bf1bcae></div></div>',1)),(a(!0),i(b,null,g(n,l=>(a(),i("div",{key:l.id,class:"table-row"},[e("div",Y,[e("div",{class:p(["file-icon",l.type])},[e("i",{class:p(C(l.type))},null,2)],2),e("span",Z,o(l.name),1)]),e("div",ee,o(l.size),1),e("div",se,[e("span",{class:p(["creator-badge",h(l.createdBy).class])},o(h(l.createdBy).name),3)]),e("div",te,o(j(l.createdAt)),1),e("div",le,[B(r(d(c),{icon:"pi pi-download",text:"",rounded:"",size:"small"},null,512),[[y,"Download",void 0,{top:!0}]]),B(r(d(c),{icon:"pi pi-ellipsis-v",text:"",rounded:"",size:"small"},null,512),[[y,"More",void 0,{top:!0}]])])]))),128))])]))),128))])):(a(),i("div",oe,[(a(!0),i(b,null,g(z.value,(n,f)=>(a(),i("div",{key:f,class:"folder-section"},[e("div",ie,[s[8]||(s[8]=e("i",{class:"pi pi-folder"},null,-1)),e("span",null,o(f),1),e("span",ae,o(n.length)+" files",1)]),e("div",ne,[(a(!0),i(b,null,g(n,l=>(a(),i("div",{key:l.id,class:"file-card"},[e("div",{class:p(["file-card-preview",l.type])},[e("i",{class:p(C(l.type))},null,2)],2),e("div",re,[e("div",{class:"file-name",title:l.name},o(l.name),9,de),e("div",ce,[e("span",{class:p(["creator-badge small",h(l.createdBy).class])},o(h(l.createdBy).name),3),e("span",ue,o(l.size),1)])]),e("div",pe,[r(d(c),{icon:"pi pi-download",text:"",rounded:"",size:"small"}),r(d(c),{icon:"pi pi-ellipsis-v",text:"",rounded:"",size:"small"})])]))),128))])]))),128))])),k.value.length===0?(a(),i("div",ve,[s[9]||(s[9]=e("i",{class:"pi pi-folder-open"},null,-1)),s[10]||(s[10]=e("h3",null,"No files found",-1)),e("p",null,o(v.value?"Try a different search term":"Upload files to get started"),1),r(d(c),{label:"Upload File",icon:"pi pi-upload"})])):V("",!0)]),e("div",fe,[s[11]||(s[11]=e("div",{class:"notice-icon"},[e("i",{class:"pi pi-microsoft"})],-1)),s[12]||(s[12]=e("div",{class:"notice-content"},[e("h4",null,"SharePoint Integration Available"),e("p",null,"Connect your SharePoint to sync documents automatically and enable AI access to your company files.")],-1)),r(d(c),{label:"Connect SharePoint",outlined:""})])])):V("",!0)}}},ze=L(me,[["__scopeId","data-v-5bf1bcae"]]);export{ze as default};
