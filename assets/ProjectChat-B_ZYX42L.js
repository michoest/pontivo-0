import{$ as B,l as y,O as x,c as n,h as d,a as e,t as c,e as _,q as p,M as b,N as P,E as r,a0 as z,y as A,Q as W,o as a,a1 as R}from"./index-COnUthvG.js";import{u as V}from"./projects-BSizNRPH.js";import{s as I}from"./index-BvPl-5xC.js";import{s as H}from"./index-Bmj-IVpJ.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C460D21R.js";const O=B("chat",()=>{const w=y("sophie"),f=y(!1),l=y({sophie:{id:"sophie",name:"Sophie",role:"Project Manager",description:"Your AI project management partner. I help coordinate tasks, track progress, and keep everything on schedule.",color:"#f59e0b",icon:"pi-users"},felix:{id:"felix",name:"Felix",role:"Strategy Consultant",description:"Your AI strategy advisor. I help with strategic analysis, competitive positioning, and long-term planning.",color:"#3b82f6",icon:"pi-compass"}}),v=y({"project-1":[{id:"msg-1",persona:"sophie",type:"ai",content:"Good morning! I've reviewed the project status and have a few updates for you. The market research phase is now complete, and we're progressing well on the strategy development phase.",timestamp:new Date(Date.now()-864e5*2).toISOString(),sources:[]},{id:"msg-2",persona:null,type:"user",content:"Great! What are the key findings from the market research?",timestamp:new Date(Date.now()-864e5*2+6e4).toISOString()},{id:"msg-3",persona:"sophie",type:"ai",content:"I'll bring in Felix for the strategic insights. He's been leading the market analysis work.",timestamp:new Date(Date.now()-864e5*2+12e4).toISOString(),sources:[]},{id:"msg-4",persona:"felix",type:"ai",content:`Thanks Sophie. Based on my analysis, here are the key findings from our Nordic market research:

**Market Opportunity:**
• The Swedish B2B SaaS market is growing at 23% annually
• There's a significant gap in HR technology solutions for mid-sized companies
• Local competitors are primarily focused on enterprise clients

**Competitive Positioning:**
• Your mid-market focus gives you a unique advantage
• The "Jobs to be Done" framework reveals underserved needs in employee onboarding
• Price sensitivity is lower than expected for quality solutions

**Recommended Entry Strategy:**
• Sweden as primary market (largest opportunity)
• Partnership-led approach with local HR consultancies
• Localization of core product features within 6 months`,timestamp:new Date(Date.now()-864e5*2+18e4).toISOString(),sources:[{name:"Nordic SaaS Market Report 2024",type:"document"},{name:"Competitor Analysis - Sweden.xlsx",type:"file"},{name:"Industry interviews (12 conducted)",type:"research"}],artifacts:[{name:"Market Entry Strategy Summary.pdf",type:"pdf"}]},{id:"msg-5",persona:null,type:"user",content:"This is really helpful. Can you elaborate on the partnership strategy?",timestamp:new Date(Date.now()-864e5+6e4).toISOString()},{id:"msg-6",persona:"felix",type:"ai",content:`Absolutely. I've developed a detailed partnership strategy based on our analysis:

**Partnership Tiers:**

1. **Strategic Partners** (2-3 targets)
   • Large HR consultancies with Nordic presence
   • Co-selling and co-marketing arrangements
   • Revenue sharing model

2. **Implementation Partners** (5-8 targets)
   • Local IT service providers
   • Technical integration specialists
   • Training and support delivery

3. **Referral Partners** (10-15 targets)
   • Accounting firms serving SMBs
   • Business associations
   • Industry networks

**Next Steps:**
• I'm currently preparing outreach materials for the top 5 strategic partner candidates
• Sophie is coordinating the timeline for initial partnership meetings in Q1 2025

Should I share the detailed partner evaluation matrix?`,timestamp:new Date(Date.now()-864e5+12e4).toISOString(),sources:[{name:"Partner Evaluation Framework",type:"document"},{name:"Nordic HR Consultancy Landscape",type:"research"}]}]}),C=x(()=>l.value[w.value]);function m(i){return v.value[i]||[]}function h(i){w.value=i}function g(i,S){v.value[i]||(v.value[i]=[]),v.value[i].push({id:`msg-${Date.now()}`,...S,timestamp:new Date().toISOString()})}async function k(i,S){g(i,{type:"user",persona:null,content:S}),f.value=!0,await new Promise(M=>setTimeout(M,1500+Math.random()*1e3)),f.value=!1;const D=[{persona:w.value,content:w.value==="sophie"?"I've noted that down and will update the project plan accordingly. Is there anything specific you'd like me to prioritize?":"That's a great point. Let me analyze this further and provide you with a detailed recommendation. I'll have an update ready within the hour.",sources:[]}];g(i,{type:"ai",...D[0]})}return{personas:l,activePersona:w,currentPersona:C,conversations:v,isTyping:f,getProjectConversation:m,setActivePersona:h,addMessage:g,sendMessage:k}}),E={key:0,class:"project-chat"},$={class:"chat-header"},G={class:"header-left"},q={class:"header-right"},F={class:"chat-layout"},U={class:"chat-main"},Y={class:"persona-selector"},J=["onClick"],K={class:"persona-info"},Q={class:"persona-name"},X={class:"persona-role"},Z={key:0,class:"persona-indicator"},ee={key:0,class:"welcome-message"},se={class:"quick-actions"},te={class:"message-bubble"},ne={key:0,class:"message-header"},ae={class:"sender-name"},ie={class:"message-time"},oe=["innerHTML"],re={key:1,class:"message-sources"},le={class:"sources-list"},ce={key:2,class:"message-artifacts"},pe={class:"artifacts-list"},ue={key:1,class:"message-avatar user"},de={class:"input-area"},me={class:"input-wrapper"},ve={class:"input-row"},he={class:"input-hints"},ge={key:0,class:"work-panel"},ye={class:"work-panel-header"},fe={key:0,class:"work-panel-content"},ke={class:"work-section"},_e={class:"current-task"},we={class:"task-progress"},Se={class:"progress-bar"},be={class:"progress-value"},Pe={class:"work-section"},Ie={class:"steps-list"},Ce={class:"work-section"},Te={class:"sources-list-panel"},xe={class:"source-info"},De={class:"source-name"},Me={class:"source-path"};const Ne={__name:"ProjectChat",setup(w){const f=V(),l=O(),v=x(()=>f.currentProject),C=x(()=>l.getProjectConversation(f.currentProjectId)),m=x(()=>l.currentPersona),h=y(""),g=y(null),k=y(!0),i=y({isWorking:!1,currentTask:"Analyzing competitive landscape",progress:65,steps:[{id:1,label:"Retrieving company profile",status:"completed"},{id:2,label:"Analyzing industry report",status:"completed"},{id:3,label:"Identifying key competitors",status:"completed"},{id:4,label:"Gathering public market data",status:"in-progress"},{id:5,label:"Synthesizing positioning matrix",status:"pending"},{id:6,label:"Generating recommendations",status:"pending"}],sources:[{name:"Company Profile.docx",type:"sharepoint",path:"SharePoint > Strategy"},{name:"Nordic Market Report 2024.pdf",type:"file",path:"Uploaded files"},{name:"Crunchbase - Competitor Data",type:"web",path:"External source"}]});async function S(){if(!h.value.trim())return;const u=h.value;h.value="",i.value.isWorking=!0,await l.sendMessage(f.currentProjectId,u),i.value.isWorking=!1,await R(),g.value&&(g.value.scrollTop=g.value.scrollHeight)}function D(u){l.setActivePersona(u)}function M(u){const s=new Date(u),o=new Date-s;return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)}m ago`:o<864e5?`${Math.floor(o/36e5)}h ago`:s.toLocaleDateString()}function N(u){return u==="completed"?"pi pi-check-circle":u==="in-progress"?"pi pi-spin pi-spinner":"pi pi-circle"}function j(u){return u==="sharepoint"?"pi pi-microsoft":u==="file"?"pi pi-file":u==="web"?"pi pi-globe":"pi pi-file"}return(u,s)=>v.value?(a(),n("div",E,[e("div",$,[e("div",G,[s[2]||(s[2]=e("h1",null,"AI Consultant",-1)),e("p",null,"Chat with your AI advisors for "+c(v.value.name),1)]),e("div",q,[_(p(I),{icon:k.value?"pi pi-eye-slash":"pi pi-eye",label:k.value?"Hide Work Panel":"Show Work Panel",text:"",onClick:s[0]||(s[0]=t=>k.value=!k.value)},null,8,["icon","label"])])]),e("div",F,[e("div",U,[e("div",Y,[(a(!0),n(b,null,P(p(l).personas,(t,o)=>(a(),n("div",{key:o,class:r(["persona-option",{active:p(l).activePersona===o,[o]:!0}]),onClick:T=>D(o)},[e("div",{class:r(["persona-avatar-small",o])},[e("i",{class:r(t.icon)},null,2)],2),e("div",K,[e("div",Q,c(t.name),1),e("div",X,c(t.role),1)]),p(l).activePersona===o?(a(),n("div",Z,[...s[3]||(s[3]=[e("i",{class:"pi pi-check"},null,-1)])])):d("",!0)],10,J))),128))]),e("div",{class:"messages-area",ref_key:"messagesContainer",ref:g},[C.value.length===0?(a(),n("div",ee,[e("div",{class:r(["welcome-avatar",p(l).activePersona])},[e("i",{class:r(m.value.icon)},null,2)],2),e("h3",null,"Hello! I'm "+c(m.value.name),1),e("p",null,c(m.value.description),1),e("div",se,[_(p(I),{label:"Project Status",icon:"pi pi-chart-bar",outlined:"",size:"small"}),_(p(I),{label:"Recent Updates",icon:"pi pi-history",outlined:"",size:"small"}),_(p(I),{label:"Next Steps",icon:"pi pi-arrow-right",outlined:"",size:"small"})])])):d("",!0),(a(!0),n(b,null,P(C.value,t=>(a(),n("div",{key:t.id,class:r(["message",{user:t.type==="user",ai:t.type==="ai",[t.persona]:t.persona}])},[t.type==="ai"?(a(),n("div",{key:0,class:r(["message-avatar",t.persona])},[e("i",{class:r(p(l).personas[t.persona]?.icon||"pi pi-android")},null,2)],2)):d("",!0),e("div",te,[t.type==="ai"?(a(),n("div",ne,[e("span",ae,c(p(l).personas[t.persona]?.name),1),e("span",ie,c(M(t.timestamp)),1)])):d("",!0),e("div",{class:"message-content",innerHTML:t.content.replace(/\n/g,"<br>")},null,8,oe),t.sources?.length?(a(),n("div",re,[s[4]||(s[4]=e("div",{class:"sources-header"},[e("i",{class:"pi pi-link"}),e("span",null,"Sources used")],-1)),e("div",le,[(a(!0),n(b,null,P(t.sources,(o,T)=>(a(),n("div",{key:T,class:"source-item"},[e("i",{class:r(o.type==="document"?"pi pi-file":o.type==="file"?"pi pi-file-excel":"pi pi-users")},null,2),e("span",null,c(o.name),1)]))),128))])])):d("",!0),t.artifacts?.length?(a(),n("div",ce,[s[6]||(s[6]=e("div",{class:"artifacts-header"},[e("i",{class:"pi pi-file-pdf"}),e("span",null,"Generated documents")],-1)),e("div",pe,[(a(!0),n(b,null,P(t.artifacts,(o,T)=>(a(),n("div",{key:T,class:"artifact-item"},[s[5]||(s[5]=e("i",{class:"pi pi-file-pdf"},null,-1)),e("span",null,c(o.name),1),_(p(I),{icon:"pi pi-download",text:"",size:"small",rounded:""})]))),128))])])):d("",!0)]),t.type==="user"?(a(),n("div",ue,[...s[7]||(s[7]=[e("i",{class:"pi pi-user"},null,-1)])])):d("",!0)],2))),128)),p(l).isTyping?(a(),n("div",{key:1,class:r(["message ai typing",p(l).activePersona])},[e("div",{class:r(["message-avatar",p(l).activePersona])},[e("i",{class:r(m.value.icon)},null,2)],2),s[8]||(s[8]=e("div",{class:"message-bubble"},[e("div",{class:"typing-indicator"},[e("span"),e("span"),e("span")])],-1))],2)):d("",!0)],512),e("div",de,[e("div",me,[e("div",{class:r(["active-persona-indicator",p(l).activePersona])},[e("i",{class:r(m.value.icon)},null,2),e("span",null,"Talking to "+c(m.value.name),1)],2),e("div",ve,[_(p(H),{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=t=>h.value=t),placeholder:"Type your message...",class:"message-input",onKeyup:z(S,["enter"])},null,8,["modelValue"]),_(p(I),{icon:"pi pi-send",onClick:S,disabled:!h.value.trim()},null,8,["disabled"])]),e("div",he,[s[9]||(s[9]=e("span",null,"Press Enter to send",-1)),s[10]||(s[10]=e("span",null,"•",-1)),e("span",null,c(m.value.name)+" can access your project documents",1)])])])]),k.value?(a(),n("div",ge,[e("div",ye,[s[12]||(s[12]=e("h3",null,"AI Work View",-1)),e("span",{class:r(["work-status",{active:i.value.isWorking}])},[s[11]||(s[11]=e("span",{class:"status-dot"},null,-1)),A(" "+c(i.value.isWorking?"Working...":"Idle"),1)],2)]),(i.value.isWorking,a(),n("div",fe,[e("div",ke,[s[13]||(s[13]=e("div",{class:"section-label"},"Current Task",-1)),e("div",_e,[e("span",null,c(i.value.currentTask),1),e("div",we,[e("div",Se,[e("div",{class:"progress-bar-fill",style:W({width:i.value.progress+"%"})},null,4)]),e("span",be,c(i.value.progress)+"%",1)])])]),e("div",Pe,[s[14]||(s[14]=e("div",{class:"section-label"},"Steps",-1)),e("div",Ie,[(a(!0),n(b,null,P(i.value.steps,t=>(a(),n("div",{key:t.id,class:r(["step-item",t.status])},[e("i",{class:r(N(t.status))},null,2),e("span",null,c(t.label),1)],2))),128))])]),e("div",Ce,[s[15]||(s[15]=e("div",{class:"section-label"},"Sources Being Used",-1)),e("div",Te,[(a(!0),n(b,null,P(i.value.sources,(t,o)=>(a(),n("div",{key:o,class:"source-panel-item"},[e("div",{class:r(["source-icon",t.type])},[e("i",{class:r(j(t.type))},null,2)],2),e("div",xe,[e("div",De,c(t.name),1),e("div",Me,c(t.path),1)])]))),128))])])]))])):d("",!0)])])):d("",!0)}},Ve=L(Ne,[["__scopeId","data-v-0a7079b3"]]);export{Ve as default};
